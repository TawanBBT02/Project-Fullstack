<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (Devices)</title>
    <style>
        body { font-family: Tahoma, sans-serif; padding: 20px; max-width: 900px; margin: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #e6f2ff; }
        .form-group { margin-bottom: 10px; }
        input, select { padding: 5px; width: 200px; }
        button { padding: 6px 12px; cursor: pointer; background-color: #008CBA; color: white; border: none; }
        button:hover { background-color: #007399; }
        .form-container { background-color: #f2f9ff; padding: 15px; border: 1px solid #cce6ff; margin-bottom: 20px; }
        .nav-menu { margin-bottom: 20px; padding: 10px; background-color: #333; color: white; }
        .nav-menu a { color: white; text-decoration: none; margin-right: 15px; font-weight: bold; }
    </style>
</head>
<body>

    <div style="margin-bottom: 20px; padding: 10px; background-color: #333;">
        <a href="/" style="color: white; text-decoration: none; margin-right: 15px; font-weight: bold;">üë§ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</a>
        <a href="/devices" style="color: white; text-decoration: none; margin-right: 15px; font-weight: bold;">üíª ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</a>
        <a href="/technicians" style="color: white; text-decoration: none; margin-right: 15px; font-weight: bold;">üîß ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</a>
        <a href="/repairs" style="color: white; text-decoration: none; margin-right: 15px; font-weight: bold;">üõ†Ô∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°</a>
        <a href="/payments" style="color: white; text-decoration: none; margin-right: 15px; font-weight: bold;">üí∞ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</a>
        <a href="/report-revenue" style="color: white; text-decoration: none; margin-right: 15px; font-weight: bold;">üìà ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</a>
    </div>

    <h2>‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏° - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h2>

    <div class="form-container">
        <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏´‡∏°‡πà</h3>
        <form action="/add-device" method="POST">
            <div class="form-group">
                <label>‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤):</label>
                <select name="customer_id" required style="width: 415px;">
                    <option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ --</option>
                    <% customers.forEach(function(c) { %>
                        <option value="<%= c.customer_id %>"><%= c.first_name %> <%= c.last_name %></option>
                    <% }); %>
                </select>
            </div>
            <div class="form-group">
                <input type="text" name="device_type" placeholder="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡πÄ‡∏ä‡πà‡∏ô Notebook, PC)" required>
                <input type="text" name="brand" placeholder="‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠ (‡πÄ‡∏ä‡πà‡∏ô Dell, Asus)" required>
            </div>
            <div class="form-group">
                <input type="text" name="model" placeholder="‡∏£‡∏∏‡πà‡∏ô (Model)">
                <input type="text" name="serial_number" placeholder="Serial Number (S/N)">
            </div>
            <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</button>
        </form>
    </div>

    <h3>‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤)</th>
                <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                <th>‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠ / ‡∏£‡∏∏‡πà‡∏ô</th>
                <th>S/N</th>
                <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
            </tr>
        </thead>
        <tbody>
            <% if (devices.length === 0) { %>
                <tr><td colspan="6" style="text-align:center;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</td></tr>
            <% } else { %>
                <% devices.forEach(function(device) { %>
                    <tr>
                        <td><%= device.device_id %></td>
                        <td><%= device.first_name %> <%= device.last_name %></td>
                        <td><%= device.device_type %></td>
                        <td><%= device.brand %> <%= device.model %></td>
                        <td><%= device.serial_number || '-' %></td>
                        <td>
                            <a href="/edit-device/<%= device.device_id %>" style="background-color: #FFC107; color: black; text-decoration: none; padding: 5px 10px; margin-right: 5px; border-radius: 3px; font-size: 14px;">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
                            
                            <form action="/delete-device/<%= device.device_id %>" method="POST" onsubmit="return confirm('‡∏•‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ä‡∏¥‡πâ‡∏ô‡∏ô‡∏µ‡πâ?');" style="display:inline;">
                                <button type="submit" style="background-color: #f44336; color: white; border: none; padding: 5px 10px; cursor: pointer; border-radius: 3px;">‡∏•‡∏ö</button>
                            </form>
                        </td>
                    </tr>
                <% }); %>
            <% } %>
        </tbody>
    </table>

</body>
</html>