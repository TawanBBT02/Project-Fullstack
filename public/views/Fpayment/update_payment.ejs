<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</title>
</head>
<body>
    <div class="container">
        <h1>‚öôÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Update Payment)</h1>
        <p>‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô: <strong>#<%= payment.payment_id %></strong> (‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏° #<%= payment.repair_id %>)</p>
        
        <form action="/payment/update/<%= payment.payment_id %>" method="POST">
            <input type="hidden" name="repair_id" value="<%= payment.repair_id %>">

            <label>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Total Cost)</label>
            <input type="number" name="total_cost" step="0.01" value="<%= payment.total_cost %>" required 
                   style="width: 100%; padding: 12px; font-size: 1.2rem; border: 2px solid #2563eb; border-radius: 5px;">

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                <div>
                    <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô (Payment Date)</label>
                    <input type="date" name="payment_date" value="<%= payment.payment_date %>" required style="width: 100%; padding: 10px;">
                </div>
                <div>
                    <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô (Status)</label>
                    <select name="payment_status" required style="width: 100%; padding: 10px;">
                        <option value="Pending" <%= payment.payment_status === 'Pending' ? 'selected' : '' %>>üïí Pending</option>
                        <option value="Paid" <%= payment.payment_status === 'Paid' ? 'selected' : '' %>>‚úÖ Paid</option>
                        <option value="Cancelled" <%= payment.payment_status === 'Cancelled' ? 'selected' : '' %>>‚ùå Cancelled</option>
                    </select>
                </div>
            </div>

            <div style="margin-top: 30px; display: flex; gap: 10px;">
                <button type="submit" style="flex: 2; background-color: #2563eb; color: white; font-weight: bold;">
                    üíæ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô
                </button>
                <a href="/payments-list" style="flex: 1; text-align: center; text-decoration: none; line-height: 40px; border: 1px solid #ccc; border-radius: 5px; color: #333;">
                    ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                </a>
            </div>
        </form>
    </div>
</body>
</html>